!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];return r?t&&"function"==typeof btoa?(e=function(e){return e=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e),"/*# ".concat(e," */")}(r),t=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")})),[n].concat(t).concat([e]).join("\n")):[n].join("\n"):n}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){n(2),e.exports=n(5)},function(e,t,n){var r=n(3),o=n(4);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,n={insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){"use strict";var r,o,i=(o={},function(e){if(void 0===o[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}o[e]=t}return o[e]}),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],c=t.base?i[0]+t.base:i[0],u=n[c]||0,d="".concat(c," ").concat(u);n[c]=u+1,u=s(d),i={css:i[1],media:i[2],sourceMap:i[3]},-1!==u?(a[u].references++,a[u].updater(i)):a.push({identifier:d,updater:function(e,t){var n,r,o,i;return o=t.singleton?(i=p++,n=m=m||l(t),r=f.bind(null,n,i,!1),f.bind(null,n,i,!0)):(n=l(t),r=function(e,t,n){var r=n.css,o=n.media;n=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,n,t),function(){!function(e){null!==e.parentNode&&e.parentNode.removeChild(e)}(n)}),r(e),function(t){t?t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap||r(e=t):o()}}(i,t),references:1}),r.push(d)}return r}function l(e){var t,r=document.createElement("style"),o=e.attributes||{};if(void 0!==o.nonce||(t=n.nc)&&(o.nonce=t),Object.keys(o).forEach((function(e){r.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(r);else{if(!(e=i(e.insert||"head")))throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(r)}return r}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,r){n=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css,e.styleSheet?e.styleSheet.cssText=d(t,n):(r=document.createTextNode(n),(n=e.childNodes)[t]&&e.removeChild(n[t]),n.length?e.insertBefore(r,n[t]):e.appendChild(r))}var m=null,p=0;e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=s(n[r]);a[o].references--}e=c(e,t);for(var i=0;i<n.length;i++){var l=s(n[i]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=e}}}},function(e,t,n){"use strict";n.r(t);var r=n(0);(r=n.n(r)()(!1)).push([e.i,'.films-list p,.films-list strong,.films-list table{color:#c7b299}.films-list p{font-size:10.5pt;margin-bottom:10px}.film-details{font-weight:700;text-transform:uppercase;margin-bottom:12px}.films-list .th{padding:6px!important;font-weight:700}.film{display:flex;margin:30px 0 70px;font-family:"Trebuchet MS",sans-serif}.film-title{font-size:14pt;font-weight:700;margin-bottom:12px;color:#fff;text-transform:uppercase}.film>div{margin-right:20px}.film img{width:250px;height:380px}.film .trailer-button{background:transparent;border-width:2px;border-style:solid;padding:10px 23px;margin-bottom:10px}.film .trailer-button:hover{cursor:pointer;opacity:.8}.performance td{padding:5px 7px}.performance-link{padding:5px 7px;text-decoration:none!important;font-weight:700;margin-right:7px;color:#000!important;display:inline-block;vertical-align:middle;transform:perspective(1px) translateZ(0);box-shadow:0 0 1px transparent;transition-duration:.3s;transition-property:transform}.performance-link:active,.performance-link:focus,.performance-link:hover{transform:scale(1.1)}@media screen and (max-width:47.938em){.film{flex-direction:column}.film>div{margin-right:0}.film>div:first-child{width:100%;display:flex;justify-content:center}.film img{margin-bottom:25px}}',""]),t.default=r},function(e,t){(this["webpackJsonpntg-movie-listing"]=this["webpackJsonpntg-movie-listing"]||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){"use strict";function r(e){var t,n=window.location.href;return-1!==n.indexOf("avalonmke")?t="avalon":-1!==n.indexOf("timescinema")?t="times":-1!==n.indexOf("rosebudcinema")?t="rosebud":-1!==n.indexOf("localhost")&&(t="avalon"),Object(o.jsxs)("tr",{className:"performance",children:[Object(o.jsx)("td",{style:{color:e.color},children:h()(e.data.date).format("dddd MMM DD")}),Object(o.jsx)("td",{children:e.data.showtimes.map((function(n,r){return Object(o.jsx)("a",{href:"https://omniwebticketing.com/".concat(t,"/").concat(n.url),className:"performance-link",style:{background:e.color},target:"_blank",children:(i=n.showtime,a=i.split(":")[0],n=i.split(":")[1],i=12<=a?"pm":"am","".concat(13<=a?a-12:a,":").concat(n).concat(i))},r);var i,a}))})]})}n.r(t);var o=n(0),i=n(1),a=n.n(i),s=n(11),c=n.n(s),l=n(2),u=n(3),d=n(5),f=n(4),m=n(6),p=n(13),h=n.n(p),g=(t=n(14),n.n(t));s=n(8),p=n.n(s),t=n(7),s=n.n(t);(t=new p.a(p.a.defaultTags())).bbTags.p=new s.a("p",!0,!1,!1),t.bbTags.large=s.a.createSimpleTag('span style="font-size: large;"',(function(e,t,n){return"<span>".concat(t,"</span>")}));var b=new p.a(t.bbTags),v=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={isOpen:!1},e.openModal=e.openModal.bind(Object(m.a)(e)),e}return Object(u.a)(n,[{key:"openModal",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"getXMLTagValue",value:function(e){return this.props.data.getElementsByTagName(e)[0].hasChildNodes()?this.props.data.getElementsByTagName(e)[0].childNodes[0].nodeValue:(console.warn(e+" is not defined"),"")}},{key:"renderSynopsisParagraphs",value:function(e){return{__html:b.parseString(e)}}},{key:"render",value:function(){var e,t,n=this,i=(this.getXMLTagValue("titlecode"),this.getXMLTagValue("titlename")),a=this.getXMLTagValue("rating"),s=this.getXMLTagValue("genre"),c=this.getXMLTagValue("runtime"),l=this.getXMLTagValue("synopsis"),u=(u=this.getXMLTagValue("poster")).replace(" ","%20");if((d=this.props.data.getElementsByTagName("trailer_url")[0]).hasChildNodes())if(d.childNodes[0].nodeValue.includes("youtube.com"))t="youtube",e=d.childNodes[0].nodeValue.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i)[1];else{if(!d.childNodes[0].nodeValue.includes("vimeo"))throw Error("Video link is neither a Youtube nor Vimeo URL");t="vimeo",e=d.childNodes[0].nodeValue.split("vimeo.com/")[1]}else e=null;var d=Array.prototype.slice.call(this.props.data.getElementsByTagName("performance")),f=[],m=[];d.forEach((function(e,t){var n=e.getElementsByTagName("performanceid")[0].childNodes[0].nodeValue,r=e.getElementsByTagName("omniweb_url")[0].childNodes[0].nodeValue,o=r.match(/\d{4}([.\-/ ])\d{2}\1\d{2}/)[0];e=e.getElementsByTagName("showtime")[0].childNodes[0].nodeValue;f.includes(o)?m.find((function(e){return e.date===o})).showtimes.push({showtime:e,url:r}):(f.push(o),m.push({id:n,date:o,showtimes:[{showtime:e,url:r}]}))}));var p=-1!==window.location.href.indexOf("avalonmke")?"#C7B299":"rgb(229, 229, 229)";d=i.trim().replace(/[^\w ]+/g,"").replace(/ +/g,"-").toLowerCase();return Object(o.jsxs)("div",{id:d,className:"film",children:[Object(o.jsx)("div",{children:Object(o.jsx)("img",{src:"".concat(window.location.href.replace("test",""),"images/posters/webcontent/poster/").concat(u),alt:i})}),Object(o.jsxs)("div",{children:[e&&Object(o.jsx)(g.a,{channel:t,isOpen:this.state.isOpen,videoId:e,onClose:function(){return n.setState({isOpen:!1})}}),Object(o.jsx)("h2",{className:"film-title",style:{color:p},children:i}),Object(o.jsx)("p",{className:"film-details",style:{color:p},children:"".concat(s," | ").concat(a," | ").concat(c,"m")}),e&&Object(o.jsx)("button",{className:"trailer-button",onClick:this.openModal,style:{color:p,borderColor:p},children:"View Trailer"}),Object(o.jsx)("span",{style:{color:p},children:Object(o.jsx)("div",{dangerouslySetInnerHTML:this.renderSynopsisParagraphs(l)})}),Object(o.jsxs)("table",{style:{color:p},children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{className:"th",children:"Date"}),Object(o.jsx)("th",{className:"th",children:"Buy Tickets"})]})}),Object(o.jsx)("tbody",{children:m.map((function(e,t){return Object(o.jsx)(r,{data:e,color:p},t)}))})]})]})]})}}]),n}(a.a.Component),y=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){return Object(l.a)(this,n),(e=t.call(this,e)).state={films:[],loading:!0},e}return Object(u.a)(n,[{key:"componentWillMount",value:function(){var e=[],t=[];this.props.films.forEach((function(n,r){var o,i=n.getElementsByTagName("titlecode")[0].childNodes[0].nodeValue,a=Array.prototype.slice.call(n.getElementsByTagName("performance"));t.includes(i)?(o=e.filter((function(e){return e=e.getElementsByTagName("titlecode")[0].childNodes[0].nodeValue,i===e}))[0],a.forEach((function(e){o.getElementsByTagName("performances")[0].appendChild(e)}))):(t.push(i),e.push(n))})),this.setState({films:e,loading:!1})}},{key:"render",value:function(){return this.state.loading?Object(o.jsx)("p",{children:"Loading films list..."}):Object(o.jsx)("div",{className:"film-list",children:this.state.films.map((function(e,t){return Object(o.jsx)(v,{data:e},t)}))})}}]),n}(i.Component);n(33),n(34),i=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={xmlDoc:"",xmlError:!1,fourOhFourError:!1,usingIE:!1},e}return Object(u.a)(n,[{key:"componentWillMount",value:function(){var e=this,t=window.location.origin,n="test";-1!==t.indexOf("avalonmke")?n="26203":-1!==t.indexOf("timescinema")?n="26202":-1!==t.indexOf("rosebudcinema")&&(n="26201"),n="".concat(t.replace("test",""),"/OnlineSchedule_").concat(n,".xml"),console.log(n),fetch(n).then((function(t){return 404!=t.status?t.text():void e.setState({fourOhFourError:!0})})).then((function(e){var t=new DOMParser;e=e.replace(/&(?!(?:apos|quot|[gl]t|amp)|#)/g,"&amp");return t.parseFromString(e,"application/xml")})).then((function(t){e.setState({xmlDoc:t})})).catch((function(t){console.log(t),e.setState({xmlError:!0})}))}},{key:"render",value:function(){if(this.state.fourOhFourError)return Object(o.jsx)("span",{style:{color:"red"},children:"XML file not found."});if(this.state.xmlError)return Object(o.jsx)("span",{style:{color:"red"},children:"Error loading schedule XML."});if(""===this.state.xmlDoc)return Object(o.jsx)("span",{style:{color:"lightgrey"},children:"Loading movie data..."});var e=Array.prototype.slice.call(this.state.xmlDoc.getElementsByTagName("film")),t=Array.prototype.slice.call(this.state.xmlDoc.getElementsByTagName("schedule_day"));return Object(o.jsx)(y,{className:"films-list",films:e,days:t})}}]),n}(i.Component);c.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(i,{})}),document.getElementById("movie-listing"))}},[[35,1,2]]])}]);